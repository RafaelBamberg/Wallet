{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/sd-013-b-project-trybewallet/src/pages/Expenses.js\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport fetchApi from '../services/api';\nimport { getCurrencyThunk } from '../actions/index';\n\nclass Expenses extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coins: [],\n      id: 0,\n      value: 0,\n      description: '',\n      currency: 'USD',\n      method: 'Dinheiro',\n      tag: 'Alimentação'\n    };\n    this.renderCoins = this.renderCoins.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchCoins();\n  }\n\n  async fetchCoins() {\n    const data = await fetchApi();\n    const response = Object.keys(data);\n    response.splice(response.indexOf('USDT'), 1);\n    this.setState({\n      coins: response\n    });\n  }\n\n  handleChange({\n    target\n  }) {\n    const {\n      name\n    } = target;\n    this.setState({\n      [name]: target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const {\n      dispatchSetThunk\n    } = this.props;\n    const {\n      id\n    } = this.state;\n    this.setState(state => ({\n      id: state.id + 1\n    }));\n    const newExpense = [{ ...this.state,\n      id\n    }];\n    const currentExpenses = {\n      newExpense\n    };\n    dispatchSetThunk(currentExpenses);\n  }\n\n  renderCoins() {\n    const {\n      coins\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"currency\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, \"Moeda\", /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      id: \"currency\",\n      name: \"currency\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, coins.map((name, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, name))));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"Valor:\", /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      name: \"value\",\n      id: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, \"Descri\\xE7\\xE3o\", /*#__PURE__*/React.createElement(\"input\", {\n      id: \"description\",\n      type: \"text\",\n      name: \"description\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    })), this.renderCoins(), /*#__PURE__*/React.createElement(\"label\", {\n      onChange: this.handleChange,\n      htmlFor: \"method\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, \"M\\xE9todo de pagamento:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"method\",\n      name: \"method\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, \"Dinheiro\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, \"Cart\\xE3o de cr\\xE9dito\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, \"Cart\\xE3o de d\\xE9bito\"))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, \"Tag:\", /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      id: \"tag\",\n      name: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, \"Alimenta\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Lazer\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, \"Trabalho\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, \"Transporte\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, \"Sa\\xFAde\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, \"Adicionar despesa\")));\n  }\n\n}\n\nExpenses.propTypes = {\n  dispatchSetThunk: PropTypes.func.isRequired // expenses: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n};\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchSetThunk: value => dispatch(getCurrencyThunk(value))\n});\n\nconst mapStateToProps = state => ({\n  expenses: state.wallet.expenses,\n  id: state.wallet.expenses.length,\n  currencies: state.wallet.currencies\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Expenses);","map":{"version":3,"sources":["/home/bamberg/sd-013-b-project-trybewallet/src/pages/Expenses.js"],"names":["PropTypes","React","Component","connect","fetchApi","getCurrencyThunk","Expenses","constructor","state","coins","id","value","description","currency","method","tag","renderCoins","bind","handleChange","handleSubmit","componentDidMount","fetchCoins","data","response","Object","keys","splice","indexOf","setState","target","name","event","preventDefault","dispatchSetThunk","props","newExpense","currentExpenses","map","index","render","propTypes","func","isRequired","mapDispatchToProps","dispatch","mapStateToProps","expenses","wallet","length","currencies"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport fetchApi from '../services/api';\nimport { getCurrencyThunk } from '../actions/index';\n\nclass Expenses extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coins: [],\n      id: 0,\n      value: 0,\n      description: '',\n      currency: 'USD',\n      method: 'Dinheiro',\n      tag: 'Alimentação',\n    };\n    this.renderCoins = this.renderCoins.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchCoins();\n  }\n\n  async fetchCoins() {\n    const data = await fetchApi();\n    const response = Object.keys(data);\n    response.splice(response.indexOf('USDT'), 1);\n\n    this.setState({ coins: response });\n  }\n\n  handleChange({ target }) {\n    const { name } = target;\n    this.setState({\n      [name]: target.value,\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const { dispatchSetThunk } = this.props;\n    const { id } = this.state;\n    this.setState((state) => ({\n      id: state.id + 1,\n    }));\n    const newExpense = [{ ...this.state, id }];\n    const currentExpenses = { newExpense };\n    dispatchSetThunk(currentExpenses);\n  }\n\n  renderCoins() {\n    const { coins } = this.state;\n\n    return (\n      <label htmlFor=\"currency\">\n        Moeda\n        <select onChange={ this.handleChange } id=\"currency\" name=\"currency\">\n          {coins.map((name, index) => (\n            <option key={ index } value={ name }>{name}</option>\n          ))}\n        </select>\n      </label>\n    );\n  }\n\n  render() {\n    return (\n      <section>\n        <form onSubmit={ this.handleSubmit }>\n          <label htmlFor=\"value\">\n            Valor:\n            <input onChange={ this.handleChange } type=\"text\" name=\"value\" id=\"value\" />\n          </label>\n\n          <label htmlFor=\"description\">\n            Descrição\n            <input\n              id=\"description\"\n              type=\"text\"\n              name=\"description\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          { this.renderCoins() }\n\n          <label onChange={ this.handleChange } htmlFor=\"method\">\n            Método de pagamento:\n            <select id=\"method\" name=\"method\">\n              <option>Dinheiro</option>\n              <option>Cartão de crédito</option>\n              <option>Cartão de débito</option>\n            </select>\n          </label>\n\n          <label htmlFor=\"tag\">\n            Tag:\n            <select onChange={ this.handleChange } id=\"tag\" name=\"tag\">\n              <option>Alimentação</option>\n              <option>Lazer</option>\n              <option>Trabalho</option>\n              <option>Transporte</option>\n              <option>Saúde</option>\n            </select>\n          </label>\n          <button type=\"submit\">Adicionar despesa</button>\n        </form>\n      </section>\n    );\n  }\n}\n\nExpenses.propTypes = {\n  dispatchSetThunk: PropTypes.func.isRequired,\n  // expenses: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchSetThunk: (value) => dispatch(getCurrencyThunk(value)),\n});\n\nconst mapStateToProps = (state) => ({\n  expenses: state.wallet.expenses,\n  id: state.wallet.expenses.length,\n  currencies: state.wallet.currencies,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Expenses);\n"]},"metadata":{},"sourceType":"module"}
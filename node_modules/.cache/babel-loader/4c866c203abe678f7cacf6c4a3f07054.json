{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/sd-013-b-project-trybewallet/src/pages/Expenses.js\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport fetchApi from '../services/api';\nimport { getCurrencyThunk } from '../actions/index';\n\nclass Expenses extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coins: [],\n      obj: {\n        id: 0,\n        value: 0,\n        description: '',\n        currency: 'USD',\n        method: 'Dinheiro',\n        tag: 'Alimentação'\n      }\n    };\n    this.renderCoins = this.renderCoins.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchCoins();\n  }\n\n  async fetchCoins() {\n    const data = await fetchApi();\n    const response = Object.keys(data);\n    response.splice(response.indexOf('USDT'), 1);\n    this.setState({\n      coins: response\n    });\n  }\n\n  handleChange({\n    target\n  }) {\n    const {\n      name\n    } = target;\n    this.setState({\n      obj: {\n        [name]: target.value\n      }\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const {\n      dispatchSetThunk\n    } = this.props;\n    const {\n      obj: {\n        id\n      }\n    } = this.state;\n    const {\n      obj\n    } = this.state;\n    this.setState(state => ({\n      id: state.id + 1\n    }));\n    const expenses = [{ ...obj,\n      id\n    }];\n    dispatchSetThunk(expenses);\n  }\n\n  renderCoins() {\n    const {\n      coins\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"currency\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, \"Moeda\", /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      id: \"currency\",\n      name: \"currency\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, coins.map((name, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, name))));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Valor:\", /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      type: \"text\",\n      name: \"value\",\n      id: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, \"Descri\\xE7\\xE3o\", /*#__PURE__*/React.createElement(\"input\", {\n      id: \"description\",\n      type: \"text\",\n      name: \"description\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    })), this.renderCoins(), /*#__PURE__*/React.createElement(\"label\", {\n      onChange: this.handleChange,\n      htmlFor: \"method\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, \"M\\xE9todo de pagamento:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"method\",\n      name: \"method\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, \"Dinheiro\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"Cart\\xE3o de cr\\xE9dito\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, \"Cart\\xE3o de d\\xE9bito\"))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, \"Tag:\", /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      id: \"tag\",\n      name: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, \"Alimenta\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, \"Lazer\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, \"Trabalho\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, \"Transporte\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, \"Sa\\xFAde\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"Adicionar despesa\")));\n  }\n\n}\n\nExpenses.propTypes = {\n  dispatchSetThunk: PropTypes.func.isRequired // expenses: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n};\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchSetThunk: value => dispatch(getCurrencyThunk(value))\n});\n\nconst mapStateToProps = state => ({\n  expenses: state.wallet.expenses,\n  id: state.wallet.expenses.length,\n  currencies: state.wallet.currencies\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Expenses);","map":{"version":3,"sources":["/home/bamberg/sd-013-b-project-trybewallet/src/pages/Expenses.js"],"names":["PropTypes","React","Component","connect","fetchApi","getCurrencyThunk","Expenses","constructor","state","coins","obj","id","value","description","currency","method","tag","renderCoins","bind","handleChange","handleSubmit","componentDidMount","fetchCoins","data","response","Object","keys","splice","indexOf","setState","target","name","event","preventDefault","dispatchSetThunk","props","expenses","map","index","render","propTypes","func","isRequired","mapDispatchToProps","dispatch","mapStateToProps","wallet","length","currencies"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport fetchApi from '../services/api';\nimport { getCurrencyThunk } from '../actions/index';\n\nclass Expenses extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coins: [],\n      obj: {\n        id: 0,\n        value: 0,\n        description: '',\n        currency: 'USD',\n        method: 'Dinheiro',\n        tag: 'Alimentação',\n      },\n    };\n    this.renderCoins = this.renderCoins.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchCoins();\n  }\n\n  async fetchCoins() {\n    const data = await fetchApi();\n    const response = Object.keys(data);\n    response.splice(response.indexOf('USDT'), 1);\n\n    this.setState({ coins: response });\n  }\n\n  handleChange({ target }) {\n    const { name } = target;\n    this.setState({\n      obj: {\n        [name]: target.value,\n      },\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const { dispatchSetThunk } = this.props;\n    const { obj: { id } } = this.state;\n    const { obj } = this.state;\n    this.setState((state) => ({\n      id: state.id + 1,\n    }));\n    const expenses = [{ ...obj, id }];\n    dispatchSetThunk(expenses);\n  }\n\n  renderCoins() {\n    const { coins } = this.state;\n\n    return (\n      <label htmlFor=\"currency\">\n        Moeda\n        <select onChange={ this.handleChange } id=\"currency\" name=\"currency\">\n          {coins.map((name, index) => (\n            <option key={ index } value={ name }>{name}</option>\n          ))}\n        </select>\n      </label>\n    );\n  }\n\n  render() {\n    return (\n      <section>\n        <form onSubmit={ this.handleSubmit }>\n          <label htmlFor=\"value\">\n            Valor:\n            <input onChange={ this.handleChange } type=\"text\" name=\"value\" id=\"value\" />\n          </label>\n\n          <label htmlFor=\"description\">\n            Descrição\n            <input\n              id=\"description\"\n              type=\"text\"\n              name=\"description\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          { this.renderCoins() }\n\n          <label onChange={ this.handleChange } htmlFor=\"method\">\n            Método de pagamento:\n            <select id=\"method\" name=\"method\">\n              <option>Dinheiro</option>\n              <option>Cartão de crédito</option>\n              <option>Cartão de débito</option>\n            </select>\n          </label>\n\n          <label htmlFor=\"tag\">\n            Tag:\n            <select onChange={ this.handleChange } id=\"tag\" name=\"tag\">\n              <option>Alimentação</option>\n              <option>Lazer</option>\n              <option>Trabalho</option>\n              <option>Transporte</option>\n              <option>Saúde</option>\n            </select>\n          </label>\n          <button type=\"submit\">Adicionar despesa</button>\n        </form>\n      </section>\n    );\n  }\n}\n\nExpenses.propTypes = {\n  dispatchSetThunk: PropTypes.func.isRequired,\n  // expenses: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchSetThunk: (value) => dispatch(getCurrencyThunk(value)),\n});\n\nconst mapStateToProps = (state) => ({\n  expenses: state.wallet.expenses,\n  id: state.wallet.expenses.length,\n  currencies: state.wallet.currencies,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Expenses);\n"]},"metadata":{},"sourceType":"module"}